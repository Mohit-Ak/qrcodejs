<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ko" lang="ko">
<head>
<title>Cross-Browser QRCode generator for Javascript</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no" />
<script type="text/javascript" src="jquery.min.js"></script>
<script type="text/javascript" src="qrcode.js"></script>
</head>
<body>
<h3>AllSpark QR Code Generator</h3>
<div id="qrcode" style="width:100px; height:100px; margin-top:15px;"></div>

<script type="text/javascript">


MasterEmployeeJSON=[

{
  "type":"registered",
  "firstName": "xxxx",
  "lastName": "yyyy",
  "phone": "121212121",
  "mailId": "www.aaa@yyy.com",
  "company": "Computer Solutions",
  "empId": "1997",
  "jobTitle": "Associate Systems Engineer",
  "practice" : "MS",
  "twitterLink": "",
  "linkedInLink": ""
},
{
  "type":"registered",
  "firstName": "qqqq",
  "lastName": "wwwww",
  "phone": "121212121",
  "mailId": "www.dddd@yyy.com",
  "company": "Computer Solutions",
  "empId": "1997",
  "jobTitle": "Associate Systems Engineer",
  "practice" : "MS",
  "twitterLink": "",
  "linkedInLink": ""
}
];

</script>

<script type="text/javascript">
var i =0;

 MohitQR = function(){		
			if(MasterEmployeeJSON[i].practice=="QA"){
 					
				var qrcode = new QRCode(document.getElementById("qrcode"), {
			    text: JSON.stringify(MasterEmployeeJSON[i]),
			    width: 250,
			    height: 250,
			    colorDark : "#ffffff",
			    colorLight : "#E20250",
			    correctLevel : QRCode.CorrectLevel.L
			});
           }else if(MasterEmployeeJSON[i].practice=="Commerce"){
		   		var qrcode = new QRCode(document.getElementById("qrcode"), {
			    text: JSON.stringify(MasterEmployeeJSON[i]),
			    width: 250,
			    height: 250,
			    colorDark : "#ffffff",
			    colorLight : "#039EDF",
			    correctLevel : QRCode.CorrectLevel.L
			});
           }
		   else if(MasterEmployeeJSON[i].practice=="PSM"){
		   		var qrcode = new QRCode(document.getElementById("qrcode"), {
			    text: JSON.stringify(MasterEmployeeJSON[i]),
			    width: 250,
			    height: 250,
			    colorDark : "#ffffff",
			    colorLight : "#F19401",
			    correctLevel : QRCode.CorrectLevel.L
			});
           }
          else if(MasterEmployeeJSON[i].practice=="MS"){
		   		var qrcode = new QRCode(document.getElementById("qrcode"), {
			    text: JSON.stringify(MasterEmployeeJSON[i]),
			    width: 250,
			    height: 250,
			    colorDark : "#ffffff",
			    colorLight : "#0BA35A",
			    correctLevel : QRCode.CorrectLevel.L
			});
           }
           else if(MasterEmployeeJSON[i].practice=="HR"){
		   		var qrcode = new QRCode(document.getElementById("qrcode"), {
			    text: JSON.stringify(MasterEmployeeJSON[i]),
			    width: 250,
			    height: 250,
			    colorDark : "#000000",
			    colorLight : "#ffffff",
			    correctLevel : QRCode.CorrectLevel.L
			});
            }
           else if(MasterEmployeeJSON[i].practice=="Admin"){
		   		var qrcode = new QRCode(document.getElementById("qrcode"), {
			    text: JSON.stringify(MasterEmployeeJSON[i]),
			    width: 250,
			    height: 250,
			    colorDark : "#000000",
			    colorLight : "#ffffff",
			    correctLevel : QRCode.CorrectLevel.L
			});
           }
           else if(MasterEmployeeJSON[i].practice=="Finance"){
		   		var qrcode = new QRCode(document.getElementById("qrcode"), {
			    text: JSON.stringify(MasterEmployeeJSON[i]),
			    width: 250,
			    height: 250,
			    colorDark : "#000000",
			    colorLight : "#ffffff",
			    correctLevel : QRCode.CorrectLevel.L
			});
		   	}
            else{
		   		var qrcode = new QRCode(document.getElementById("qrcode"), {
			    text: JSON.stringify(MasterEmployeeJSON[i]),
			    width: 250,
			    height: 250,
			    colorDark : "#000000",
			    colorLight : "#000000",
			    correctLevel : QRCode.CorrectLevel.L
			});
           }



			function makeCode () {		
				try{
				qrcode.makeCode();
		
	           }catch(e){
					console.log(e);
				}
			var checkMe=setInterval(function(){
	           var imgSrc=$( "img" )[0].src;
               if(imgSrc!=undefined  && imgSrc!=""){
                   clearInterval(checkMe);
                   console.log("imgSrc-----"+imgSrc);
		           $( "img" ).wrap( "<a href='"+imgSrc+"' class='deleteAfterDownload' download='"+MasterEmployeeJSON[i].empId+"'></a>" );
                   i++;
 				   $("img").click();
                  $(".deleteAfterDownload").remove();
                  if(i<MasterEmployeeJSON.length){
                   MohitQR();
                  }
               }
    		   
            }, 1000);  
			}
		
			makeCode();
					
}
			 
			
	

 

</script>
</body>
